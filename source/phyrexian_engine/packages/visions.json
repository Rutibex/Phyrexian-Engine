{
  "package_id": "visions",
  "display_name": "Visions (1997) - Comprehensive Mechanics Pack",
  "version": "1.0.0",
  "description": "Implements Mirage-block Visions mechanics and themes: phasing, flanking, cumulative upkeep, slowtrips, poison counters, world enchantments, Djinn/Efreet hosers, bounce lands (Karoos), ETB creatures (e.g., Man-o'-War patterns), charms, and timing-bending insta-enchantments.",
  "effects_by_color": {
    "W": {
      "Creature": [
        [
          "Flanking (Whenever this creature becomes blocked by a creature without flanking, that creature gets -1/-1 until end of turn.)",
          3,
          2,
          4
        ],
        [
          "Vigilance. {TRIGGER_INTRO} When this creature enters, tap up to one target creature. It doesn't untap during its controller's next untap step.",
          2,
          3,
          5
        ],
        [
          "First strike. {TRIGGER_INTRO} When this creature enters, exile up to one target Aura until this leaves the battlefield.",
          1,
          3,
          5
        ],
        [
          "Protection from [C].",
          1,
          2,
          5
        ],
        [
          "{TRIGGER_INTRO} When this creature enters, destroy target attacking or blocking creature with power {X} or less.",
          2,
          3,
          5
        ]
      ],
      "Instant": [
        [
          "Choose one — • Prevent the next 1 damage that would be dealt to any target this turn. • Tap target creature. • Creatures get -2/-0 until end of turn. {SLOWTRIP}",
          3,
          1,
          3
        ],
        [
          "Exile target attacking creature. {SLOWTRIP}",
          1,
          2,
          4
        ],
        [
          "Target creature gets +{X}/+{X} until end of turn.",
          1,
          1,
          3
        ]
      ],
      "Enchantment": [
        [
          "World — As another World permanent enters, sacrifice this. Creatures can't attack you unless their controller pays {2} for each creature they control that's attacking you.",
          1,
          4,
          6
        ],
        [
          "At the beginning of your upkeep, exile target creature an opponent controls until the beginning of your next upkeep.",
          1,
          4,
          6
        ],
        [
          "Enchant creature\nEnchanted creature can't attack or block. Its activated abilities can't be activated.",
          2,
          2,
          4
        ]
      ]
    },
    "U": {
      "Creature": [
        [
          "Phasing (This phases in or out before you untap on your untap step.)",
          3,
          2,
          5
        ],
        [
          "{TRIGGER_INTRO} When this enters, return up to one target creature to its owner's hand.",
          4,
          3,
          5
        ],
        [
          "Flying. {TRIGGER_INTRO} When this enters, look at the top four cards of your library. Put one into your hand and the rest on the bottom in any order.",
          2,
          3,
          5
        ],
        [
          "{TRIGGER_INTRO} When this enters, sacrifice it unless you return three basic lands you control to their owner's hand. {ACTIVATED_INTRO} {T}, Return this to its owner's hand: Destroy target creature. It can't be regenerated. That creature's controller creates a 0/1 green Sheep creature token.",
          1,
          3,
          5
        ]
      ],
      "Instant": [
        [
          "Choose one — • Target artifact or creature phases out. • Target player mills four cards. • Choose a land type and a basic land type. Each land of the first chosen type becomes the second chosen type until end of turn.",
          4,
          1,
          3
        ],
        [
          "Counter target spell unless its controller pays {X}. {SLOWTRIP}",
          1,
          1,
          3
        ],
        [
          "Target creature gains flying until end of turn. {SLOWTRIP}",
          1,
          1,
          2
        ]
      ],
      "Sorcery": [
        [
          "Return target nonland permanent to its owner's hand. Draw a card at the beginning of the next turn's upkeep.",
          2,
          2,
          4
        ],
        [
          "Each player draws {X} cards.",
          1,
          2,
          6
        ]
      ],
      "Enchantment": [
        [
          "World — At the beginning of each player's upkeep, that player chooses artifact, creature, land, or non-Aura enchantment. All permanents of the chosen type phase out.",
          1,
          3,
          6
        ],
        [
          "You may cast this spell as though it had flash. If you cast it any time a sorcery couldn't have been cast, sacrifice it at the beginning of the next cleanup step. {LLM_NAME_HELPER}",
          1,
          3,
          5
        ]
      ]
    },
    "B": {
      "Creature": [
        [
          "Fear (This creature can't be blocked except by artifact creatures and/or black creatures.) {TRIGGER_INTRO} Whenever this attacks and isn't blocked, defending player gets a poison counter.",
          3,
          2,
          4
        ],
        [
          "Deathtouch. {TRIGGER_INTRO} When this enters, target player discards a card.",
          2,
          2,
          5
        ],
        [
          "{TRIGGER_INTRO} When this enters, destroy target nonblack creature. It can't be regenerated.",
          3,
          4,
          5
        ]
      ],
      "Instant": [
        [
          "Choose one — • Target player discards a card. • Target creature gets +2/-1 until end of turn. • Target creature gains swampwalk until end of turn.",
          4,
          1,
          3
        ],
        [
          "Target creature gets -{X}/-{X} until end of turn. Draw a card at the beginning of the next turn's upkeep.",
          2,
          1,
          3
        ]
      ],
      "Sorcery": [
        [
          "{X}: This deals X damage to each creature and each player. Spend only black mana on X.",
          2,
          3,
          6
        ]
      ],
      "Enchantment": [
        [
          "At the beginning of each player's upkeep, that player sacrifices a creature unless they pay {1}.",
          1,
          3,
          5
        ]
      ]
    },
    "R": {
      "Creature": [
        [
          "Haste. {CREATURE_ETB_PING}",
          2,
          3,
          5
        ],
        [
          "This creature can't block.",
          2,
          3,
          6
        ],
        [
          "First strike. {TRIGGER_INTRO} When this enters, it deals {X} damage divided as you choose among up to two targets.",
          2,
          3,
          5
        ]
      ],
      "Instant": [
        [
          "Choose one — • Target creature can't block this turn. • Destroy target artifact with mana value {X} or less. • Attacking creatures get +1/+0 until end of turn.",
          4,
          1,
          3
        ],
        [
          "This deals {X} damage to any target.",
          2,
          1,
          4
        ]
      ],
      "Sorcery": [
        [
          "Gain control of target artifact until end of turn. Untap it. It gains haste until end of turn. {SLOWTRIP}",
          1,
          2,
          4
        ]
      ],
      "Enchantment": [
        [
          "At the beginning of combat on your turn, this deals 1 damage to each creature without flying.",
          1,
          3,
          5
        ]
      ]
    },
    "G": {
      "Creature": [
        [
          "Trample. {TRIGGER_INTRO} When this enters, destroy up to one target artifact or enchantment.",
          3,
          3,
          6
        ],
        [
          "Reach. {TRIGGER_INTRO} When this enters, untap up to two target lands.",
          2,
          2,
          5
        ],
        [
          "{TRIGGER_INTRO} Whenever this deals combat damage to a player, create a tapped Treasure token unless that player has a poison counter. If they do, instead put a +1/+1 counter on this.",
          1,
          3,
          6
        ]
      ],
      "Instant": [
        [
          "Choose one — • Untap target permanent. • Destroy target non-Aura enchantment. • Target creature loses flying until end of turn.",
          4,
          1,
          3
        ],
        [
          "Target creature gets +{X}/+{X} and gains trample until end of turn.",
          2,
          2,
          4
        ]
      ],
      "Sorcery": [
        [
          "Search your library for a green creature card with mana value {X} or less, put it onto the battlefield, then shuffle.",
          1,
          4,
          6
        ]
      ],
      "Enchantment": [
        [
          "Players can cast spells and activate abilities only during their own turns.",
          1,
          3,
          5
        ],
        [
          "Creatures with flying can't attack or block, and their activated abilities with {T} in their costs can't be activated.",
          1,
          4,
          6
        ]
      ]
    },
    "C": {
      "Artifact": [
        [
          "{ACTIVATED_INTRO} {X}, {T}: This deals X damage to each creature and each player. Spend only black mana this way.",
          1,
          3,
          6
        ],
        [
          "Equipped creature has flanking. Equip {EQUIP_COST}.",
          1,
          2,
          4
        ],
        [
          "{T}: Add {C}. {TRIGGER_INTRO} When this enters, scry 2.",
          1,
          1,
          3
        ]
      ],
      "Land": [
        [
          "This enters tapped.\nWhen this enters, sacrifice it unless you return an untapped [BASIC_LAND] you control to its owner's hand.\n{T}: Add {C}{LAND_COLOR}.",
          10,
          2,
          6
        ],
        [
          "{T}: Add one mana of any color. Spend this mana only to cast a spell with phasing, cumulative upkeep, or to activate an ability that phases something out.",
          1,
          3,
          6
        ]
      ],
      "Enchantment": [
        [
          "World — When this enters, destroy each permanent with the same name as another permanent, except for basic lands. They can't be regenerated.\nWhenever a nonbasic permanent enters, destroy all other permanents with that name. They can't be regenerated.",
          1,
          4,
          6
        ]
      ]
    }
  },
  "creature_subtypes": {
    "W": [
      "Human",
      "Knight",
      "Soldier",
      "Cleric",
      "Spirit",
      "Griffin",
      "Pegasus",
      "Elephant",
      "Cat"
    ],
    "U": [
      "Human",
      "Wizard",
      "Merfolk",
      "Illusion",
      "Drake",
      "Bird",
      "Homarid"
    ],
    "B": [
      "Human",
      "Assassin",
      "Zombie",
      "Imp",
      "Vampire",
      "Rat",
      "Bat"
    ],
    "R": [
      "Human",
      "Warrior",
      "Barbarian",
      "Minotaur",
      "Cyclops",
      "Goblin",
      "Efreet"
    ],
    "G": [
      "Human",
      "Elf",
      "Beast",
      "Crocodile",
      "Snake",
      "Spider",
      "Ape"
    ],
    "C": [
      "Djinn",
      "Golem",
      "Construct",
      "Camel",
      "Sheep"
    ]
  },
  "monster_keywords": {
    "W": [
      "vigilance",
      "first strike",
      "flanking",
      "lifelink"
    ],
    "U": [
      "flying",
      "ward 1",
      "phasing"
    ],
    "B": [
      "deathtouch",
      "menace",
      "fear",
      "lifelink"
    ],
    "R": [
      "haste",
      "first strike",
      "trample"
    ],
    "G": [
      "trample",
      "reach",
      "hexproof (from spells)"
    ]
  },
  "string_pools": {
    "TRIGGER_INTRO": [
      "When this enters,",
      "When this enters the battlefield,",
      "As this enters,"
    ],
    "ACTIVATED_INTRO": [
      "",
      ""
    ],
    "SLOWTRIP": [
      "(Draw a card at the beginning of the next turn's upkeep.)",
      "(At the beginning of the next turn's upkeep, draw a card.)"
    ],
    "BASIC_LAND": [
      "Plains",
      "Island",
      "Swamp",
      "Mountain",
      "Forest"
    ],
    "LAND_COLOR": [
      "{W}",
      "{U}",
      "{B}",
      "{R}",
      "{G}"
    ],
    "CREATURE_ETB_PING": [
      "When this enters, this deals 1 damage to any target.",
      "When this enters, this deals 1 damage to each opponent."
    ],
    "TOKEN_SUBTYPE": [
      "Sheep",
      "Drake",
      "Elephant",
      "Goblin",
      "Snake"
    ]
  },
  "notes": {
    "mechanics": [
      "No new keywords in Visions; it expands Mirage's flanking & phasing and uses earlier cumulative upkeep, slowtrips, poison counters, and World enchantments.",
      "Includes a full cycle of Karoo-style bounce lands (Plains/Island/Swamp/Mountain/Forest -> taps for {C} + that color).",
      "Implements modal 'Charm' templates for each color consistent with Visions cycles (Emerald/Crimson/Hearth/Hope/Funeral, plus Vision Charm).",
      "ETB-focused blue (Man-o'-War style) and black (Nekrataal style) creatures.",
      "Exotic highlights: Teferi's Realm (World—mass phasing), Eye of Singularity (World—name-based sweeper), City of Solitude lock, Ovinomancer bounce-cost removal pattern, Crypt Rats/X-sweeper, Suq'Ata Assassin poison saboteur."
    ]
  }
}